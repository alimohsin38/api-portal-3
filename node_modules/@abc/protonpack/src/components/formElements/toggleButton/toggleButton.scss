@mixin checked {
    &[class*="--checked "],
    &[class^="--checked"] {
        @content;
    }
}

@mixin focused {
    &[class*="--focused "],
    &[class^="--focused"] {
        @content;
    }
}

.#{$prefix}form-element {

    &--disabled {

        &.#{$prefix}toggle-button {
            background-color: var(--toggleButtonDisabledBackground);
            color: var(--toggleButtonDisabledText);
            opacity: .6;

            &--checked {
                background-color: var(--toggleButtonDisabledCheckedBackground);
                color: var(--toggleButtonDisabledCheckedText);
            }
        }
    }

    &--size {

        &_xs.#{$prefix}toggle-button {
            font-size: .75rem;
        }

        &_sm.#{$prefix}toggle-button {
            font-size: 1rem;
        }

        &_md.#{$prefix}toggle-button {
            font-size: 1.5rem;
        }

        &_lg.#{$prefix}toggle-button {
            font-size: 2rem;
        }

        &_xl.#{$prefix}toggle-button {
            font-size: 2.75rem;
        }

        &_xxl.#{$prefix}toggle-button {
            font-size: 3.25rem;
        }
    }
}

.#{$prefix}toggle-button {
    @include base-font();

    animation-duration: 300ms;
    animation-name: #{$prefix}toggle-button--animation_pressOut;
    animation-timing-function: ease-out;
    background-color: var(--toggleButtonBackground);
    border-color: var(--toggleButtonBorder);
    border-style: solid;
    border-radius: .125em;
    border-width: 1px;
    box-shadow: 0 2px 1px 0 var(--toggleButtonShadowOutside), inset 0 0 0 0 var(--toggleButtonShadowInside);
    color: var(--toggleButtonText);
    cursor: pointer;
    display: inline-block;
    font-size: 1rem;
    margin-right: .5rem;
    padding: .5em;
    position: relative;
    text-shadow: -1px -1px var(--toggleButtonTextShadow);

    &.active {
        color: var(--toggleButtonActiveText);
    }

    &__input {
        border: 0;
        clip: rect(0, 0, 0, 0);
        height: 1px;
        margin: -1px;
        overflow: hidden;
        padding: 0;
        position: absolute;
        width: 1px;
    }

    &__content {
        color: inherit;
        user-select: none;

        > * {
            color: inherit;
        }
    }

    &--checked {
        animation-name: #{$prefix}toggle-button--animation_pressIn;
        background-color: var(--toggleButtonCheckedBackground);
        box-shadow: 0 0 0 0 var(--toggleButtonShadowOutside), inset 0 2px 2px 0 var(--toggleButtonShadowInside);
        color: var(--toggleButtonCheckedText);

        &.active {
            color: var(--toggleButtonCheckedText);
        }
    }

    &--focused {
        border-color: var(--toggleButtonFocusBorder);
    }

    &--flat {
        animation: none;
        box-shadow: none;
        border-width: 0;
        text-shadow: none;
    }

    &--outline {
        border-width: 1px;
    }

    &--round {
        border-radius: 50%;
        border-width: 1px;
        padding: 1.125em;
    }

    &--style {

        &_danger {
            @include checked {
                background: var(--danger);
            }
        }

        &_disabled {
            @include checked {
                background: var(--base6);
            }
        }

        &_info {
            @include checked {
                background: var(--info);
            }
        }

        &_primary {
            @include checked {
                background: var(--buttonPrimaryBackground);
                border-color: var(--buttonPrimaryBorder);
                color: var(--buttonPrimaryText);
            }
        }

        &_secondary {
            @include checked {
                background: var(--buttonSecondaryBackground);
                border-color: var(--buttonSecondaryBorder);
                color: var(--buttonSecondaryText);
            }
        }

        &_success {
            @include checked {
                background: var(--success);
            }
        }

        &_warning {
            @include checked {
                background-color: var(--warning);
            }
        }
    }

    &--flat#{&}--round {
        border-width: 1px;
    }

    &--flat#{&}--style {

        &_danger {
            @include checked {
                background: var(--danger);
            }

            border-color: var(--danger);
            color: var(--danger);
        }

        &_disabled {
            @include checked {
                background: var(--base6);
            }

            border-color: var(--base6);
            color: var(--base6);
        }

        &_info {
            @include checked {
                background: var(--info);
            }

            border-color: var(--info);
            color: var(--info);
        }

        &_primary {
            @include checked {
                background: var(--buttonPrimaryBackground);
                color: var(--buttonPrimaryText);
            }

            background: var(--buttonPrimaryText);
            border-color: var(--buttonPrimaryBackground);
            color: var(--buttonPrimaryBackground);
        }

        &_secondary {
            @include checked {
                background: var(--buttonSecondaryBackground);
                color: var(--buttonSecondaryText);
            }

            background: var(--buttonSecondaryText);
            border-color: var(--buttonSecondaryBackground);
            color: var(--buttonSecondaryBackground);
        }

        &_success {
            @include checked {
                background: var(--success);
            }

            border-color: var(--success);
            color: var(--success);
        }

        &_warning {
            @include checked {
                background: var(--warning);
            }

            border-color: var(--warning);
            color: var(--warning);
        }
    }

    &--round #{&}__content {
        left: 50%;
        position: absolute;
        line-height: 1;
        top: 50%;
        transform: translate(-50%, -50%);

        > * {
            line-height: 2;
        }

        [class^="icon-"],
        [class*=" icon-"] {
            vertical-align: text-bottom;
        }
    }
}

@keyframes #{$prefix}toggle-button--animation_pressIn {
    0% {
        box-shadow: 0 2px 1px 0 var(--toggleButtonShadowOutside), inset 0 0 0 0 var(--toggleButtonShadowInside);
    }

    50% {
        box-shadow: 0 0 0 0 var(--toggleButtonShadowOutside), inset 0 0 0 0 var(--toggleButtonShadowInside);
    }

    100% {
        box-shadow: 0 0 0 0 var(--toggleButtonShadowOutside), inset 0 2px 2px 0 var(--toggleButtonShadowInside);
    }
}

@keyframes #{$prefix}toggle-button--animation_pressOut {
    0% {
        box-shadow: 0 0 0 0 var(--toggleButtonShadowOutside), inset 0 2px 2px 0 var(--toggleButtonShadowInside);
    }

    50% {
        box-shadow: 0 0 0 0 var(--toggleButtonShadowOutside), inset 0 0 0 0 var(--toggleButtonShadowInside);
    }

    100% {
        box-shadow: 0 2px 1px 0 var(--toggleButtonShadowOutside), inset 0 0 0 0 var(--toggleButtonShadowInside);
    }
}
