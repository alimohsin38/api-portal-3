import React from 'react'
import {mount} from 'enzyme'
import BannerModal from './'
import Indicator from '../../indicator'

describe('BannerModal', () => {
    describe('render a basic modal banner', () => {
        const wrapper = mount(
            <BannerModal title="fake-banner-title" />
        )

        const wrapperElement = wrapper.find('.banner--modal')
        const titleElement = wrapperElement.childAt(0)

        it('should render a div.banner--modal', () => {
            expect(wrapperElement.type()).toBe('div')
        })

        it('should have the data-abc-id of bannerModal', () => {
            expect(wrapperElement.prop('data-abc-id')).toBe('bannerModal')
        })

        it('should have a title element', () => {
            expect(titleElement.type()).toBe('h1')
            expect(titleElement.text()).toBe('fake-banner-title')
        })
    })

    describe('render a modal banner w/props', () => {
        const wrapper = mount(
            <BannerModal indicator="add" title="fake-banner-title" className="fake-class-name">
                <h6>fake-subtitle</h6>
            </BannerModal>
        )

        const wrapperElement = wrapper.find('.banner--modal')
        const indicatorContainer = wrapperElement.childAt(0)
        const subtitleElement = wrapperElement.childAt(2)

        it('should have a custom className', () => {
            expect(wrapperElement.hasClass('fake-class-name')).toBe(true)
        })

        it('should have an Indicator', () => {
            expect(indicatorContainer.type()).toBe(Indicator)
            expect(indicatorContainer.hasClass('indicator')).toBe(true)
        })

        it('should have a subtitle', () => {
            expect(subtitleElement.contains(<h6>fake-subtitle</h6>)).toBe(true)
            expect(subtitleElement.hasClass('banner--modal__content')).toBe(true)
        })
    })
})