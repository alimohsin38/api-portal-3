:root {
    --tooltipCaratSize: 6px;
}

$tooltipBorderWidth: 12px;

.tooltip {
    background: none;
    border: none;
    box-shadow: 0 5px 12px 0 var(--tooltipShadow);
    list-style: none;

    &.show {
        opacity: 1;
        padding: 0;
    }

    .tooltip-inner {
        background-color: var(--tooltipBackground);
        border-radius: var(--tooltipBorderRadius);
        border: solid 1px var(--tooltipBorder);
        box-shadow: none;
        color: var(--tooltipText);
        font-size: 12px;
        opacity: 1;
        padding: 10px 20px;
        position: relative;

        &::before {
            width: 0;
            height: 0;
            border-style: solid;
        }
    }

    .arrow {
        height: calc(var(--tooltipCaratSize) * 2);
        margin: 0;
        width: calc(var(--tooltipCaratSize) * 2);

        &::after,
        &::before {
            background: none;
            border: none;
            content: "";
            height: calc(var(--tooltipCaratSize) * 2);
            position: absolute;
            transform: rotate(45deg);
            width: calc(var(--tooltipCaratSize) * 2);
            z-index: -1;
        }

        &::before {
            border: 1px solid var(--tooltipBorder);
            box-shadow: 0 5px 12px 0 var(--tooltipShadow);
        }

        &::after {
            background: var(--tooltipBackground);
            bottom: 0;
            height: calc((var(--tooltipCaratSize) - 1px) * 2);
            left: 0;
            margin: 1px;
            right: 0;
            top: 0;
            width: calc((var(--tooltipCaratSize) - 1px) * 2);
            z-index: 1;
        }
    }

    &.bs-tooltip {

        &-bottom,
        &-auto[data-placement^="bottom"] {
            margin-top: calc(var(--tooltipCaratSize) * 2);

            .arrow {
                top: calc((var(--tooltipCaratSize) - 1px) * -1);
            }

            &[data-placement$="-start"] {
                margin-left: calc((var(--tooltipBorderRadius) + 16px) * -1);

                .arrow {
                    left: calc(var(--tooltipBorderRadius) + 16px);
                }
            }

            &[data-placement$="-end"] {
                margin-right: calc((var(--tooltipBorderRadius) + 16px) * -1);

                .arrow {
                    right: calc(var(--tooltipBorderRadius) + 16px);
                }
            }
        }

        &-top,
        &-auto[data-placement^="top"] {
            margin-bottom: calc(var(--tooltipCaratSize) * 2);

            .arrow {
                bottom: calc((var(--tooltipCaratSize) - 1px) * -1);
            }

            &[data-placement$="-start"] {
                margin-left: calc((var(--tooltipBorderRadius) + 16px) * -1);

                .arrow {
                    left: calc(var(--tooltipBorderRadius) + 16px);
                }
            }

            &[data-placement$="-end"] {
                margin-right: calc((var(--tooltipBorderRadius) + 16px) * -1);

                .arrow {
                    right: calc(var(--tooltipBorderRadius) + 16px);
                }
            }
        }

        &-left,
        &-auto[data-placement^="left"] {
            margin-right: calc(var(--tooltipCaratSize) * 2);

            .arrow {
                right: calc((var(--tooltipCaratSize) - 1px) * -1);
            }

            &[data-placement$="-start"] {
                margin-top: calc((var(--tooltipBorderRadius) + var(--tooltipCaratSize)) * -1);

                .arrow {
                    top: calc(var(--tooltipBorderRadius) + var(--tooltipCaratSize));
                }
            }

            &[data-placement$="-end"] {
                margin-bottom: calc((var(--tooltipBorderRadius) + var(--tooltipCaratSize)) * -1);

                .arrow {
                    bottom: calc((var(--tooltipBorderRadius) + var(--tooltipCaratSize)) * -1);
                }
            }
        }

        &-right,
        &-auto[data-placement^="right"] {
            margin-left: calc(var(--tooltipCaratSize) * 2);

            .arrow {
                left: calc((var(--tooltipCaratSize) - 1px) * -1);
            }

            &[data-placement$="-start"] {
                margin-top: calc((var(--tooltipBorderRadius) + var(--tooltipCaratSize)) * -1);

                .arrow {
                    top: calc(var(--tooltipBorderRadius) + var(--tooltipCaratSize));
                }
            }

            &[data-placement$="-end"] {
                margin-bottom: calc((var(--tooltipBorderRadius) + var(--tooltipCaratSize)) * -1);

                .arrow {
                    bottom: calc((var(--tooltipBorderRadius) + var(--tooltipCaratSize)) * -1);
                }
            }
        }
    }
}