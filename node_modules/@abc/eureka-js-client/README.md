# eureka-js-client-wrapper
An ABCFinancial wrapper for eureka-js-client


### Configuration
This module will attempt to read neccessary options from process.env by default. 
You can also pass in an object with configuration values.

``` javascript
  const appId = process.env.APP_ID;
  const port = process.env.PORT;
  const hostname= os.hostname();
  const ip = process.env.IP_ADDR;
  const eurekaServiceUrls = process.env.EUREKA_SERVICE_URLS.split(',');
  
  let DEFAULT_OPTIONS = {
      instance:{
          app: appId,
          hostName: hostname,
          ipAddr: ip,
          port: {
              '$': port,
              '@enabled': 'true'
          },
          vipAddress: appId,
          dataCenterInfo: {
              '@class': 'com.netflix.appinfo.InstanceInfo$DefaultDataCenterInfo',
              name: 'MyOwn'
          },
          statusPageUrl: 'http://'+ hostname +':'+ port +'/info',
          healthCheckUrl: 'http://'+ hostname +':'+ port +'/health'
      },
      eureka: {
          serviceUrls:{
              default: eurekaServiceUrls
          }
      }
  };
```
For a full list of configurable values and how to set them see [eureka-js-client](https://www.npmjs.com/package/eureka-js-client)


### Basic Usage

``` javascript
const Eureka = require('@abc/eureka-js-client');

const client = new Eureka({ app: 'MyApp' });

client.start();
```

### Methods

#### constructor(opts)
This method taks an object of configuration values to initialize the eureka client with.

If no options are provided we will attempt to read needed values from process.env.


#### start()
Register with Eureka, start application heartbeats, and initialize the instance cache.


#### stop()
De-register with Eureka & stop application heartbeats

#### callEurekaService(serviceName, requestOptions, [cb])

`requestOptions` should be a valid option object for [request](https://github.com/request/request) library.