{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap dab53862b9d63ab8ae53","webpack:///./src/fetcher.js","webpack:///external {\"root\":\"isomorphic-fetch\",\"commonjs2\":\"isomorphic-fetch\",\"commonjs\":\"isomorphic-fetch\",\"amd\":\"isomorphic-fetch\"}","webpack:///external {\"root\":\"deepmerge\",\"commonjs2\":\"deepmerge\",\"commonjs\":\"deepmerge\",\"amd\":\"deepmerge\"}"],"names":["require","deepmerge","Fetcher","defaultOpts","cache","headers","jsonOpts","Accept","textOpts","locationHeaderKey","organizationHeaderKey","token","Authorization","locationId","organizationId","callback","errorCallback","url","opts","_buildFetch","data","method","_buildOpts","body","JSON","stringify","then","_fetch","fn","res","catch","_catchThrowErrors","err","json","_fetchJson","text","_fetchText","noResponse","status","_err","Error","statusText","response","fetch","_checkResponse","_opts","module","exports"],"mappings":"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","file":"fetcher.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"isomorphic-fetch\"), require(\"deepmerge\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"isomorphic-fetch\", \"deepmerge\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fetcher\"] = factory(require(\"isomorphic-fetch\"), require(\"deepmerge\"));\n\telse\n\t\troot[\"fetcher\"] = factory(root[\"isomorphic-fetch\"], root[\"deepmerge\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dab53862b9d63ab8ae53","require('isomorphic-fetch')\nconst deepmerge = require('deepmerge')\n\n\nclass Fetcher {\n\n    constructor() {\n        this.defaultOpts = {\n            cache: 'no-cache',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        this.jsonOpts = {\n            headers: {\n                Accept: 'application/json'\n            }\n        }\n\n        this.textOpts = {\n            headers: {\n                Accept: 'text/*'\n            }\n        }\n        this.locationHeaderKey = 'ABCFS-LOCATION-ID'\n        this.organizationHeaderKey = 'ABCFS-ORGANIZATION-ID'\n    }\n\n    setCsrf(token) {\n        this.defaultOpts.headers['X-CSRF-TOKEN'] = token\n    }\n\n    setAuth(token) {\n        this.defaultOpts.headers.Authorization = token\n    }\n\n    setLocation(locationId) {\n        this.defaultOpts.headers[this.locationHeaderKey] = locationId\n    }\n\n    setOrganization(organizationId) {\n        this.defaultOpts.headers[this.organizationHeaderKey] = organizationId\n    }\n\n    clearAuth() {\n        delete this.defaultOpts.headers.Authorization\n    }\n\n    clearLocation() {\n        delete this.defaultOpts.headers[this.locationHeaderKey]\n    }\n\n    clearOrganization() {\n        delete this.defaultOpts.headers[this.organizationHeaderKey]\n    }\n\n    setErrorCallback(callback) {\n        this.errorCallback = callback\n    }\n\n    get(url, opts = {}) {\n        return this._buildFetch(url, null, opts, 'GET')\n    }\n\n    head(url, data, opts = {}) {\n        return this._buildFetch(url, data, opts, 'HEAD')\n    }\n\n    post(url, data, opts = {}) {\n        return this._buildFetch(url, data, opts, 'POST')\n    }\n\n    put(url, data, opts = {}) {\n        return this._buildFetch(url, data, opts, 'PUT')\n    }\n\n    del(url, data, opts = {}) {\n        return this._buildFetch(url, data, opts, 'DELETE')\n    }\n\n    // ---- Private Methods\n\n    _buildFetch(url, data, opts, method) {\n        const _buildOpts = deepmerge(this.defaultOpts, opts)\n        _buildOpts.method = method\n\n        if (data !== null) {\n            _buildOpts.body = (typeof data === 'object') ? JSON.stringify(data) : data\n        }\n\n        return {\n            then: fn => this._fetch(url, _buildOpts)\n                .then(res => fn(res))\n                .catch(err => this._catchThrowErrors(err)),\n            json: fn => this._fetchJson(url, _buildOpts)\n                .then(res => fn(res))\n                .catch(err => this._catchThrowErrors(err)),\n            text: fn => this._fetchText(url, _buildOpts)\n                .then(res => fn(res))\n                .catch(err => this._catchThrowErrors(err)),\n            noResponse: () => this._fetch(url, _buildOpts)\n        }\n    }\n\n    _catchThrowErrors(err) {\n        if (this.errorCallback) {\n            this.errorCallback(err)\n        } else {\n            throw err\n        }\n    }\n\n    _checkResponse(res) {\n        if (res.status >= 200 && res.status < 300) {\n            return res\n        }\n\n        const _err = new Error(res.statusText)\n        _err.response = res\n        throw _err\n        // we are throwing an error, so no need to return a response\n    }\n\n    _fetch(url, opts) {\n        return fetch(url, opts).then(res => this._checkResponse(res))\n    }\n\n    _fetchJson(url, opts) {\n        const _opts = deepmerge(this.jsonOpts, opts)\n\n        return this._fetch(url, _opts).then(res => res.json())\n    }\n\n    _fetchText(url, opts) {\n        const _opts = deepmerge(this.textOpts, opts)\n\n        return this._fetch(url, _opts).then(res => res.text())\n    }\n}\n\nmodule.exports = new Fetcher()\n\n\n// WEBPACK FOOTER //\n// ./src/fetcher.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"isomorphic-fetch\",\"commonjs2\":\"isomorphic-fetch\",\"commonjs\":\"isomorphic-fetch\",\"amd\":\"isomorphic-fetch\"}\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"deepmerge\",\"commonjs2\":\"deepmerge\",\"commonjs\":\"deepmerge\",\"amd\":\"deepmerge\"}\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}