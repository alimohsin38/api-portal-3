import React from 'react'
import {Button} from '@abc/protonpack'
import {shallow} from 'enzyme'
import SubmitButton from './'
import Loading from 'components/loading'

describe('SubmitButton', () => {
    describe('render a basic SubmitButton', () => {
        const wrapper = shallow(<SubmitButton>submit</SubmitButton>)

        it('should be a Button', () => {
            expect(wrapper.type()).toBe(Button)
        })
    })

    describe('render a basic SubmitButton in loading state', () => {
        const wrapper = shallow(<SubmitButton submitting={true}>submit</SubmitButton>)

        it('should contain a loading icon', () => {
            const loadingIcon = wrapper.childAt(0)
            expect(loadingIcon.type()).toEqual(Loading)
            expect(loadingIcon.prop('timeout')).toBe(0)
            expect(loadingIcon.hasClass('loading')).toBe(true)
        })
    })

    describe('render a basic SubmitButton in disable state', () => {
        const wrapper = shallow(<SubmitButton disabled>submit</SubmitButton>)

        it('should be a Button in disable state', () => {
            expect(wrapper.type()).toBe(Button)
            expect(wrapper.prop('disabled')).toBe(true)
        })
    })
})