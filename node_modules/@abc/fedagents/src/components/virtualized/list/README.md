# Virtualized List

The Virtualized List component is an implementation of the [react-virtualized](https://github.com/bvaughn/react-virtualized) library for the purposes of displaying a large list of items in a performant way.

This component is very similar to the [List](../../list) component, in that it takes many of the same properties. This component should be used instead of the [List](../../list) component only when one of the following applies:
1. There are too many list items to render smoothly unless virtualization is needed. This normally occurs when the list rows require more processor intensive rendering, such as images or animations.
2. The list needs to scroll infinitely

## Usage Example

```JSX
<VirtualizedList
    item={this.item}
    displayData={this.state.options}
    totalResults={200}
/>
```

---

#### Props:

* align
* colProps
* displayData
* emptyTemplate
* idKey
* item
* loading
* messages
* onInfiniteLoad
* scrollElement
* totalResults
* transition

#### `align`
* *optional*
* Allows the specification of list content alignment.
* (string)
    * `center`
    * `left`
    * `right`

#### `colprops`
* *optional*
* Meant to be used with horizontal grid based results, instead of a purely vertical list.
* (object)
    * An object passed directly to the Col component.
    * The only difference is that individual component properties need to be passed as a single property.
        * ie: `colProps={{sm: {col: 3, justifyContent: 'center'}, md: true, lg: 6}}`
    * Defaults to 'xs: 12'
    * See: https://github.com/abcfinancial2/protonpack#grid-col

#### `displayData`
* **required**
* (array of objects)
    * a list of objects to be iterated over
    * passing an empty array `[]` will result in a No Results Found message

#### `emptyTemplate`
* *optional*
* Allows the specification of a custom element to be used when `displayData` is empty
* (element)

#### `idKey`
* *optional*
* Key name for the root ID in your display data. Use this if your display data root ID is not 'id' (displayData.id).
* (string)

#### `isRowLoaded`
* *optional*
* The callback method that is called when it needs to be verified that a row is loaded. The callback is called with a single argument that is an object of the following structure:
```
{
    index, // The index to check
}
```
In the absence of this property, a simple index lookup on the `displayData` prop will be used to determine availability.
* (function)

#### `item`
* **required**
* (function)
    * a functional React component to be rendered as a list item. In addition to the data provided in `displayData` for the appropriate index, the component is also supplied with the following data from the virtualized list:
```
{
    index,          // The index of the row
    isScrolling,    // Boolean value indicating if the list is being scrolled
    isVisible,      // Boolean value indicating if the row is currently visible
    key,            // The key generated for rendering the row, this will be based on `idKey`
}
```

#### `loading`
* *optional*
* Sets the loading state and automatically shows the <Loading> component
* (boolean)
    * is list currently loading

#### `messages`
* *optional*
* Allows the specification of messages to be displayed by the default `ListItemNoResults` component, or the `emptyTemplate` passed directly to the list.
* (object)

#### `onInfiniteLoad`
* *optional*
* The callback method that is called when the user has scrolled to the point where more results need to be requested, and the `loading` prop is not already set to `false`.
Infinite loading will not function without this property. The callback is called with a single argument that is an object of the following structure:
```
{
    startIndex, // The topmost row index that is not loaded and is trying to be rendered
    stopIndex,  // The bottommost row index that is not loaded and is trying to be rendered
}
```
Since there are no assumptions about which indicies inside `displayData` contain data, this event can be triggered whether you are scrolling up or down depending on data provided.
* (function)

#### `scrollElement`
* *optional*
* Sets the DOM element to attach scroll listeners to. The default node is the closest parent node to the list element that contains a vertical overflow property. This element will be used in place of the default.
* (element)

#### `totalResults`
* *optional*
* Allows the specification of the total number of results available for loading. This number must be greater than the number of objects in `displayData` in order for infinite loading to function.
* (number)

#### `transition`
* *optional*
* Allows the specification of a custom animation on list item add and remove.
* (string)
    * `none` - (default) No transition animation
    * `fade` - On item removal, item fades out to 0 opacity then list collapses . On item add, list expands then item fades in to 1 opacity.
