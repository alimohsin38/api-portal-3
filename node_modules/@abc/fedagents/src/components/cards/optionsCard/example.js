import React, {Component} from 'react'
import {OptionsCard} from '../../../export'

const boatBrands = [
    {id: 'MB', name: 'MB - Atwater, California', checked: true},
    {id: 'BU', name: 'Malibu - Loudon Tennessee', checked: true, disabled: true},
    {id: 'M_C', name: 'MasterCraft - Vonore Tennessee', checked: true},
    {id: 'TIGE', name: 'Tige - Abilene Texas', checked: true, disabled: true},
    {id: 'AXIS', name: 'Axis - Vonore Tennessee', checked: true},
    {id: 'SKI_N', name: 'Ski Nautique - Orlando Florida', checked: true},
]

export default class OptionsCardExample extends Component {
    constructor(props) {
        super(props)

        this.state = {boatBrands}

        this.handleOptionChange = this.handleOptionChange.bind(this)
        this.handleSelectAllChange = this.handleSelectAllChange.bind(this)
    }

    handleOptionChange(e) {
        const {id, checked} = e.target

        const updatedBoatBrands = this.state.boatBrands.map((boatBrand) => {
            let updatedBoatBrand = null

            if (boatBrand.id === id) {
                updatedBoatBrand = {...boatBrand, checked}
            }

            return updatedBoatBrand || boatBrand
        })

        this.setState({boatBrands: updatedBoatBrands})
    }

    handleSelectAllChange(e) {
        const updatedBoatBrands = this.state.boatBrands.map((boatBrand) => {
            let updatedBoatBrand = null

            if (!boatBrand.disabled) {
                updatedBoatBrand = {...boatBrand, checked: e.target.checked}
            }

            return updatedBoatBrand || boatBrand
        })

        this.setState({boatBrands: updatedBoatBrands})
    }

    render() {
        return (
            <div>
                <h3>Options Card</h3>
                <OptionsCard
                    title="Boat Brands"
                    options={this.state.boatBrands}
                    onOptionChange={this.handleOptionChange}
                    onSelectAllChange={this.handleSelectAllChange}
                />
            </div>
        )
    }
}