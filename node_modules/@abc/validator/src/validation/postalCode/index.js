import {countryCodeLookup, postalCodeRegExp} from '../../utils/address'

const validatePostalCode = (value, country) => {
    let response = false

    if (value && value.trim() !== '') {
        const countryCode = countryCodeLookup(country)

        if (countryCode && countryCode in postalCodeRegExp) {
            response = postalCodeRegExp[countryCode].test(value)
        } else {
            response = Object.keys(postalCodeRegExp).some(key => postalCodeRegExp[key].test(value.trim()))
        }
    }

    return response
}

export const validateZipCode = value => validatePostalCode(value, 'US')

export default validatePostalCode